{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_phone_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), phone: \"22222222\" }","method":"POST","path":"/api/v1/customers","stack":"MongoServerError: E11000 duplicate key error collection: test.customers index: organizationId_1_phone_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), phone: \"22222222\" }\n    at InsertOneOperation.handleOk (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at tryOperation (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async executeOperation (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.insertOne (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:154:16)","timestamp":"2025-12-17 21:45:31","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }","method":"POST","path":"/api/v1/customers/bulk-customer","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 21:48:39","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_phone_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), phone: \"900000001\" }","method":"POST","path":"/api/v1/customers/bulk-customer","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.customers index: organizationId_1_phone_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), phone: \"900000001\" }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 21:53:10","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }","method":"POST","path":"/api/v1/customers/bulk-customer","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 21:54:03","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }","method":"POST","path":"/api/v1/customers/bulk-customer","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 21:55:05","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_phone_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), phone: \"900000001\" }","method":"POST","path":"/api/v1/customers/bulk-customer","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.customers index: organizationId_1_phone_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), phone: \"900000001\" }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 21:56:46","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }","method":"POST","path":"/api/v1/customers/bulk-customer","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.customers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: \"\" }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 21:57:11","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.suppliers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: null }","method":"POST","path":"/api/v1/suppliers/bulk-supplier","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.suppliers index: organizationId_1_gstNumber_1 dup key: { organizationId: ObjectId('6942d5b39b293019b0f66539'), gstNumber: null }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 22:04:51","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"E11000 duplicate key error collection: test.products index: slug_1 dup key: { slug: null }","method":"POST","path":"/api/v1/products/bulk-create","stack":"MongoBulkWriteError: E11000 duplicate key error collection: test.products index: slug_1 dup key: { slug: null }\n    at OrderedBulkOperation.handleWriteError (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:790:24\n    at async MongoClient.withSession (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\mongo_client.js:477:20)\n    at async OrderedBulkOperation.execute (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\bulk\\common.js:789:20)\n    at async Collection.bulkWrite (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\Apex\\apex-crm-backend\\node_modules\\mongodb\\lib\\collection.js:171:25)","timestamp":"2025-12-17 22:18:35","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"slugify is not defined","method":"POST","path":"/api/v1/products/bulk-import","stack":"ReferenceError: slugify is not defined\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:101:22\n    at Array.map (<anonymous>)\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:100:27\n    at D:\\Apex\\apex-crm-backend\\src\\utils\\catchAsync.js:6:20\n    at Layer.handle [as handle_request] (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\Apex\\apex-crm-backend\\src\\middleware\\permissionMiddleware.js:25:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 22:26:58","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"slugify is not defined","method":"POST","path":"/api/v1/products/bulk-import","stack":"ReferenceError: slugify is not defined\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:101:22\n    at Array.map (<anonymous>)\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:100:27\n    at D:\\Apex\\apex-crm-backend\\src\\utils\\catchAsync.js:6:20\n    at Layer.handle [as handle_request] (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\Apex\\apex-crm-backend\\src\\middleware\\permissionMiddleware.js:25:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 22:30:00","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"slugify is not defined","method":"POST","path":"/api/v1/products/bulk-import","stack":"ReferenceError: slugify is not defined\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:101:22\n    at Array.map (<anonymous>)\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:100:27\n    at D:\\Apex\\apex-crm-backend\\src\\utils\\catchAsync.js:6:20\n    at Layer.handle [as handle_request] (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\Apex\\apex-crm-backend\\src\\middleware\\permissionMiddleware.js:25:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 22:31:11","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"nanoid is not defined","method":"POST","path":"/api/v1/products/bulk-import","stack":"ReferenceError: nanoid is not defined\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:113:16\n    at Array.map (<anonymous>)\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\productController.js:107:27\n    at D:\\Apex\\apex-crm-backend\\src\\utils\\catchAsync.js:6:20\n    at Layer.handle [as handle_request] (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\Apex\\apex-crm-backend\\src\\middleware\\permissionMiddleware.js:25:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 22:32:02","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"Invalid or expired token.","method":"POST","path":"/api/v1/products/bulk-import","stack":"Error: Invalid or expired token.\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\authController.js:271:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:11:24"}
{"level":"error","message":"Invalid or expired token.","method":"POST","path":"/api/v1/products/bulk-import","stack":"Error: Invalid or expired token.\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\authController.js:271:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:12:12"}
{"level":"error","message":"AccountEntry is not defined","method":"POST","path":"/api/v1/purchases","stack":"ReferenceError: AccountEntry is not defined\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\purchaseController.js:108:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:20:15","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"Cannot read properties of undefined (reading '0')","method":"POST","path":"/api/v1/invoices","stack":"TypeError: Cannot read properties of undefined (reading '0')\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\invoiceController.js:50:53\n    at D:\\Apex\\apex-crm-backend\\src\\utils\\catchAsync.js:6:20\n    at Layer.handle [as handle_request] (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\Apex\\apex-crm-backend\\src\\middleware\\permissionMiddleware.js:25:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:26:22","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"Cannot read properties of undefined (reading '0')","method":"POST","path":"/api/v1/invoices","stack":"TypeError: Cannot read properties of undefined (reading '0')\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\invoiceController.js:50:53\n    at D:\\Apex\\apex-crm-backend\\src\\utils\\catchAsync.js:6:20\n    at Layer.handle [as handle_request] (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Apex\\apex-crm-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\Apex\\apex-crm-backend\\src\\middleware\\permissionMiddleware.js:25:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:27:03","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"No EMI plan found for this invoice","method":"GET","path":"/api/v1/emi/invoice/6942f08e586a1d80f13a5b91","stack":"Error: No EMI plan found for this invoice\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\emiController.js:83:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:34:00","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"No EMI plan found for this invoice","method":"GET","path":"/api/v1/emi/invoice/6942f08e586a1d80f13a5b91","stack":"Error: No EMI plan found for this invoice\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\emiController.js:83:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:34:51","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"No EMI plan found for this invoice","method":"GET","path":"/api/v1/emi/invoice/6942f08e586a1d80f13a5b91","stack":"Error: No EMI plan found for this invoice\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\emiController.js:83:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:34:56","user":"6942d5b39b293019b0f6653a"}
{"level":"error","message":"EMI plan not found","method":"GET","path":"/api/v1/emi/6942f08e586a1d80f13a5b91","stack":"Error: EMI plan not found\n    at D:\\Apex\\apex-crm-backend\\src\\controllers\\emiController.js:98:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-17 23:35:24","user":"6942d5b39b293019b0f6653a"}
